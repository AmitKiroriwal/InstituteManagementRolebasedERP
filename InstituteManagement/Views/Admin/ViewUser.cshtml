@using InstituteManagement_Models;
@{
    ViewBag.Title = "User Details";
}

@model ApplicationUser
<!-- Container-fluid starts-->
<div class="container-fluid">

    <div class="card">

        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="card-title">User Details</h5>
            <a asp-action="ListUsers" asp-controller="Admin">Back</a>
        </div>
        <div class="card-body">
            <h5 class="card-title">@Model.UserName</h5>
            <p class="card-text">Email :  @Model.Email</p>
            <p class="card-text">Phone :  @Model.PhoneNumber</p>
            <p class="card-text">Institute :  @Model.InstituteName</p>
            <p class="card-text">Status :  @Model.Status</p>
            <a class="btn btn-info btn-md" asp-controller="Account" asp-action="Register" asp-route-id="@Model.Id" data-bs-original-title="" title=""> <span class="bi bi-pencil-square"></span> </a>

            <a asp-action="DeleteUser" asp-controller="Admin" asp-route-id="@Model.Id" class="btn btn-danger btn-md" onclick="if(!confirm('Are you Sure To delete item ?')){return false}"> <span class="bi bi-trash"></span> </a>

            @*<a asp-action="EditUser" asp-controller="Admin" class="btn btn-primary">Edit</a>
            <a onclick="deleteConfirm('@Model.Id')" class="btn btn-danger">Delete</a>*@
        </div>
    </div>






</div>

<!-- Container-fluid Ends-->
<!--bootstra pop up confirmation dialog-->
<div class="modal fade" id="delete-conformation" tabindex="-1" role="dialog" aria-labelledby="deleteconformation">
    <div class="modal-dialog" style="width:501px !important;margin:0 auto;">
        <div class="modal-content">
            <div class="modal-header" style="background:#d9534f;color:white;">
                <h4 class="modal-title" id="delete-conformation">
                    Delete Confirmation
                </h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="form-group">
                        <div class="col-sm-12">
                            <span>
                                Are you sure you want to delete?
                            </span>
                            @*<strong id="deletedValueName">
                            </strong>*@
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="hideModel()">Cancel</button>
                    <input type="submit" class="btn btn-danger" value="Delete" onclick="deleteData()" />
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/assets/js/contacts/custom.js"></script>
    <!-- Alert -->
    @*<script type="text/javascript">
            //this is only display bootstrap modal pop up dialog
            var baseUrl = window.location.origin;
            var deleteId;
            var deleteConfirm = function (val) {
                $('#deletedValueName').text(val);
                deleteId = val;
                $('#delete-conformation').modal('show');

                //console.log(val);
            }
            //   alert(deleteId);
            //call this function after click on confirm delete button
            var deleteData = function () {
                $('#divLoading').show();
                var id = $('#id').val();
                $.ajax({
                    type: "POST",
                    url: baseUrl + "/Dealer/Delete/" + deleteId,
                    data: { id: id },
                    success: function (result) {
                        $("#delete-conformation").modal('hide');
                        location.reload();
                    },
                    error: function () {
                        $("#delete-conformation").modal('hide');
                    }
                });
            }
            var hideModel = function () {
                $("#delete-conformation").modal('hide');
            }
        </script>*@
}

